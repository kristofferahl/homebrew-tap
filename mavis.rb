# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Mavis < Formula
  desc "unconventional commit"
  homepage "https://github.com/kristofferahl/mavis"
  version "0.8.1"
  license "Apache License 2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/kristofferahl/mavis/releases/download/v0.8.1/mavis_v0.8.1_darwin_amd64.zip"
      sha256 "6ace53f815fcca70fb945062c6aa7449d01104fa3e0ef81ac30071eeae4b88c0"

      def install
        bin.install 'mavis'
        output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'bash')
        (bash_completion/'mavis').write output
        output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'zsh')
        (zsh_completion/'_mavis').write output
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/kristofferahl/mavis/releases/download/v0.8.1/mavis_v0.8.1_darwin_arm64.zip"
      sha256 "ee36f5313090bc4d766a2095e1d4a36c0a145cd0895df1fd8689afdf9eae5dfa"

      def install
        bin.install 'mavis'
        output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'bash')
        (bash_completion/'mavis').write output
        output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'zsh')
        (zsh_completion/'_mavis').write output
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/kristofferahl/mavis/releases/download/v0.8.1/mavis_v0.8.1_linux_amd64.tar.gz"
        sha256 "572e49847cfe588c16f5a2d1486687219987963eefad333346bd20fe73a1d640"

        def install
          bin.install 'mavis'
          output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'bash')
          (bash_completion/'mavis').write output
          output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'zsh')
          (zsh_completion/'_mavis').write output
        end
      end
    end
    if Hardware::CPU.arm?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/kristofferahl/mavis/releases/download/v0.8.1/mavis_v0.8.1_linux_arm64.tar.gz"
        sha256 "dcc9d01fecbea4dc91bac4c4a451a20210f2737399e9b2d9cff6d87bbbac1885"

        def install
          bin.install 'mavis'
          output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'bash')
          (bash_completion/'mavis').write output
          output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'zsh')
          (zsh_completion/'_mavis').write output
        end
      end
    end
  end
end
