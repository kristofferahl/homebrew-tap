# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Mavis < Formula
  desc "unconventional commit"
  homepage "https://github.com/kristofferahl/mavis"
  version "0.5.1"
  license "Apache License 2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/kristofferahl/mavis/releases/download/v0.5.1/mavis_v0.5.1_darwin_amd64.zip"
      sha256 "d1ee196a65fd3dc617378a28ff058a0ed49df8cc9d5268f48f1b95a4a3deb349"

      def install
        bin.install 'mavis'
        output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'bash')
        (bash_completion/'mavis').write output
        output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'zsh')
        (zsh_completion/'_mavis').write output
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/kristofferahl/mavis/releases/download/v0.5.1/mavis_v0.5.1_darwin_arm64.zip"
      sha256 "27e56de999c3d400dfeaf2bc8ca7577542c000313d1afe9c0f1a7198b356497b"

      def install
        bin.install 'mavis'
        output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'bash')
        (bash_completion/'mavis').write output
        output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'zsh')
        (zsh_completion/'_mavis').write output
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/kristofferahl/mavis/releases/download/v0.5.1/mavis_v0.5.1_linux_amd64.tar.gz"
        sha256 "2fc8be593dd5888c42dbd1c20135ebfbfae13fa611aedb0c4342e12912471114"

        def install
          bin.install 'mavis'
          output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'bash')
          (bash_completion/'mavis').write output
          output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'zsh')
          (zsh_completion/'_mavis').write output
        end
      end
    end
    if Hardware::CPU.arm?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/kristofferahl/mavis/releases/download/v0.5.1/mavis_v0.5.1_linux_arm64.tar.gz"
        sha256 "4ba38e4d4dbfb07047e38737f9e2bd0cdd2f835ad8efdd473c2d6367247ea7f9"

        def install
          bin.install 'mavis'
          output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'bash')
          (bash_completion/'mavis').write output
          output = Utils.safe_popen_read("#{bin}/mavis", 'completion', 'zsh')
          (zsh_completion/'_mavis').write output
        end
      end
    end
  end
end
